<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>React</title>
    <link rel="stylesheet" href="bower_components/reveal.js/css/reveal.css"/>
    <link rel="stylesheet" href="bower_components/reveal.js/css/theme/black.css"/>
    <link rel="stylesheet" href="bower_components/reveal.js/lib/css/zenburn.css"/>
</head>
<body>
<div class="reveal">
    <div class="slides">
        <section>
            <h1>React技术分享</h1>
        </section>

        <section>
            <h2>内容</h2>
            <ul>
                <li>前端框架简介</li>
                <li>React使用方法</li>
                <li>TodoList Demo</li>
            </ul>
        </section>

        <section class="stack">
            <section>
                <h2>前端框架</h2>
                <ul>
                    <li>
                        <p class="fragment">MVC/MVP</p>
                        <ul class="fragment"><li>Backbone</li></ul>
                    </li>
                    <li>
                        <p class="fragment">MVVM</p>
                        <ul class="fragment"><li>Angular/Ember</li></ul>
                    </li>
                </ul>
            </section>
            <section>
                <h2>MV*</h2>
                <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="processonSvg1000" viewBox="299.0 156.0 422.0 290.0" width="422.0" height="290.0"><defs id="ProcessOnDefs1001"><linearGradient id="ProcessOnLinearGradient1007" x1="0.9469983318002789" y1="0.8200525829494073" x2="0.41197702676439435" y2="0.0"><stop id="ProcessOnStop1008" stop-opacity="1.0" stop-color="#00ff00" offset="0.0"/><stop id="ProcessOnStop1009" stop-opacity="1.0" stop-color="#00b400" offset="1.0"/></linearGradient><linearGradient id="ProcessOnLinearGradient1014" x1="0.9469983318002789" y1="0.8200525829494073" x2="0.41197702676439435" y2="0.0"><stop id="ProcessOnStop1015" stop-opacity="1.0" stop-color="#00ff00" offset="0.0"/><stop id="ProcessOnStop1016" stop-opacity="1.0" stop-color="#00b400" offset="1.0"/></linearGradient><linearGradient id="ProcessOnLinearGradient1021" x1="0.9469983318002789" y1="0.8200525829494073" x2="0.41197702676439435" y2="0.0"><stop id="ProcessOnStop1022" stop-opacity="1.0" stop-color="#00ff00" offset="0.0"/><stop id="ProcessOnStop1023" stop-opacity="1.0" stop-color="#00b400" offset="1.0"/></linearGradient><marker id="ProcessOnMarker1028" markerUnits="userSpaceOnUse" orient="auto" markerWidth="16.23606797749979" markerHeight="10.550836550532098" viewBox="-1.0 -1.3763819204711736 16.23606797749979 10.550836550532098" refX="-1.0" refY="3.8990363547948754"><path id="ProcessOnPath1029" d="M12.0 3.8990363547948754L0.0 7.798072709589751V0.0Z" stroke="#323232" stroke-width="2.0" fill="#323232" transform="matrix(1.0,0.0,0.0,1.0,0.0,0.0)"/></marker><marker id="ProcessOnMarker1032" markerUnits="userSpaceOnUse" orient="auto" markerWidth="16.23606797749979" markerHeight="10.550836550532098" viewBox="-1.0 -1.3763819204711736 16.23606797749979 10.550836550532098" refX="-1.0" refY="3.8990363547948754"><path id="ProcessOnPath1033" d="M12.0 3.8990363547948754L0.0 7.798072709589751V0.0Z" stroke="#323232" stroke-width="2.0" fill="#323232" transform="matrix(1.0,0.0,0.0,1.0,0.0,0.0)"/></marker><marker id="ProcessOnMarker1036" markerUnits="userSpaceOnUse" orient="auto" markerWidth="16.23606797749979" markerHeight="10.550836550532098" viewBox="-1.0 -1.3763819204711736 16.23606797749979 10.550836550532098" refX="-1.0" refY="3.8990363547948754"><path id="ProcessOnPath1037" d="M12.0 3.8990363547948754L0.0 7.798072709589751V0.0Z" stroke="#323232" stroke-width="2.0" fill="#323232" transform="matrix(1.0,0.0,0.0,1.0,0.0,0.0)"/></marker><marker id="ProcessOnMarker1040" markerUnits="userSpaceOnUse" orient="auto" markerWidth="16.23606797749979" markerHeight="10.550836550532098" viewBox="-1.0 -1.3763819204711736 16.23606797749979 10.550836550532098" refX="-1.0" refY="3.8990363547948754"><path id="ProcessOnPath1041" d="M12.0 3.8990363547948754L0.0 7.798072709589751V0.0Z" stroke="#323232" stroke-width="2.0" fill="#323232" transform="matrix(1.0,0.0,0.0,1.0,0.0,0.0)"/></marker></defs><g id="ProcessOnG1002"><path id="ProcessOnPath1003" d="M299.0 156.0H721.0V446.0H299.0V156.0Z" fill="#ffffff"/><g id="ProcessOnG1004"><g id="ProcessOnG1005" transform="matrix(1.0,0.0,0.0,1.0,450.0,176.0)" opacity="1.0"><path id="ProcessOnPath1006" d="M0.0 5.0Q0.0 0.0 5.0 0.0L95.0 0.0Q100.0 0.0 100.0 5.0L100.0 65.0Q100.0 70.0 95.0 70.0L5.0 70.0Q0.0 70.0 0.0 65.0L0.0 5.0Z" stroke="#006400" stroke-width="2.0" stroke-dasharray="none" fill="url(#ProcessOnLinearGradient1007)"/><g id="ProcessOnG1010" transform="matrix(1.0,0.0,0.0,1.0,10.0,23.75)"><text id="ProcessOnText1011" fill="#323232" font-weight="normal" font-style="normal" text-decoration="blink" font-family="Arial,宋体" text-anchor="middle" font-size="18" x="40.0" y="18.45">Model</text></g></g><g id="ProcessOnG1012" transform="matrix(1.0,0.0,0.0,1.0,319.0,356.0)" opacity="1.0"><path id="ProcessOnPath1013" d="M0.0 5.0Q0.0 0.0 5.0 0.0L95.0 0.0Q100.0 0.0 100.0 5.0L100.0 65.0Q100.0 70.0 95.0 70.0L5.0 70.0Q0.0 70.0 0.0 65.0L0.0 5.0Z" stroke="#006400" stroke-width="2.0" stroke-dasharray="none" fill="url(#ProcessOnLinearGradient1014)"/><g id="ProcessOnG1017" transform="matrix(1.0,0.0,0.0,1.0,10.0,23.75)"><text id="ProcessOnText1018" fill="#323232" font-weight="normal" font-style="normal" text-decoration="blink" font-family="Arial,宋体" text-anchor="middle" font-size="18" x="40.0" y="18.45">View</text></g></g><g id="ProcessOnG1019" transform="matrix(1.0,0.0,0.0,1.0,601.0,356.0)" opacity="1.0"><path id="ProcessOnPath1020" d="M0.0 5.0Q0.0 0.0 5.0 0.0L95.0 0.0Q100.0 0.0 100.0 5.0L100.0 65.0Q100.0 70.0 95.0 70.0L5.0 70.0Q0.0 70.0 0.0 65.0L0.0 5.0Z" stroke="#006400" stroke-width="2.0" stroke-dasharray="none" fill="url(#ProcessOnLinearGradient1021)"/><g id="ProcessOnG1024" transform="matrix(1.0,0.0,0.0,1.0,10.0,23.75)"><text id="ProcessOnText1025" fill="#323232" font-weight="normal" font-style="normal" text-decoration="blink" font-family="Arial,宋体" text-anchor="middle" font-size="18" x="40.0" y="18.45">*(P/VM)</text></g></g><g id="ProcessOnG1026"><path id="ProcessOnPath1027" d="M548.904239778555 243.13211781824475L640.7791741408578 344.7007749747125" stroke="#323232" stroke-width="2.0" stroke-dasharray="none" fill="none" marker-end="url(#ProcessOnMarker1028)"/></g><g id="ProcessOnG1030"><path id="ProcessOnPath1031" d="M697.947879140046 356.63815572471543L560.8579493180679 221.68843786627698" stroke="#323232" stroke-width="2.0" stroke-dasharray="none" fill="none" marker-end="url(#ProcessOnMarker1032)"/></g><g id="ProcessOnG1034"><path id="ProcessOnPath1035" d="M601.0 391.0L434.2360679774998 391.0" stroke="#323232" stroke-width="2.0" stroke-dasharray="none" fill="none" marker-end="url(#ProcessOnMarker1036)"/></g><g id="ProcessOnG1038"><path id="ProcessOnPath1039" d="M419.0 414.0L585.7648518805007 412.1674192101044" stroke="#323232" stroke-width="2.0" stroke-dasharray="none" fill="none" marker-end="url(#ProcessOnMarker1040)"/></g></g></g></svg>
                <ul>
                    <li class="fragment">View: 视图层，一般为前端模板</li>
                    <li class="fragment">Model: 数据层，提供数据及数据的操作方法</li>
                    <li class="fragment">*: 完成数据到视图，视图到数据的更新</li>
                </ul>
            </section>
            <section>
                <h2>React.js只是一个提供了状态的View层</h2>
            </section>
        </section>
        <section class="stack">
            <section data-markdown>
                <script type="text/template">
                    ## 环境搭建
                    1. 安装依赖 <!-- .element: class="fragment" -->
                        ```bash
                        // 安装react
                        npm install react react-dom --save-dev
                        // 安装babel编译工具
                        npm install babel-core babel-loader babel-preset-es2005 babel-preset-react --save-dev
                        // 安装webpack打包工具
                        npm install webpack --save-dev
                        ```
                    2. 定义webpack配置文件 <!-- .element: class="fragment" -->
                        ```js
                        module.exports = {
                            entry: './src/app.js', // 项目入口文件
                            output: {path: './build', filename: '[name].js'},
                            module: {
                                loaders: [{
                                    test: "/\.js$/", 
                                    loader: 'babel-loader?cacheDirectory=.cache&presets[]=react&presets[]=es2015'
                                }]
                            }
                        }
                        ```
                </script>
            </section>
            <section data-markdown>
                <script type="text/template">
                    ## Hello React
                    ```js
                    // file: src/app.js
                    import React, {Component} from 'react';
                    import ReactDom from 'react-dom';

                    class App extends Component {
                        render() {
                            return <div>Hello React</div>
                        }
                    }

                    ReactDom.render(<App />, document.getElementById('root'));
                    ```
                </script>
            </section>
            <section data-markdown>
                <script type="text/template">
                    ## Hello React

                    ```html
                    <!-- file: src/index.html -->
                    <!DOCTYPE html>
                    <html>
                        <head>
                            <title>Hello React</title
                        </head>
                    <body>
                        <div id="root"></div>
                        <script type="text/javascript" src="../build/main.js"><\/script>
                    </body>
                    </html>
                    ```

                    ```bash
                    webpack --config webpack.config.js
                    ```
                    <!-- .element: class="fragment" -->
                </script>
            </section>
            <section data-markdown>
                <script type="text/template">
                    ## 通过create-react-app创建应用
                    ```bash
                    npm install -g create-react-app
                    create-react-app hello-world
                    cd hello-world
                    npm start
                    ```
                </script>
            </section>
        </section>
        <section class="stack">
            <section data-markdown>
                <script type="text/template">
                    ## jsx

                    jsx是对js语法的扩展，支持标签语法（tag syntax）
                    <!-- .element: class="fragment" -->
                    ```js
                    var element = <h1>Hello</h1>;
                    ```
                    <!-- .element: class="fragment" -->

                    1. 输出变量
                    <!-- .element: class="fragment" -->
                        ```js
                        var a = 1;
                        var element = <h1 id={a}>{a}</h1>;
                        ```
                    2. if
                    <!-- .element: class="fragment" -->
                        ```js
                        var element;
                        if (a === 1) {
                            element = <h1>one</h1>
                        } else {
                            element = <h1>other<h1>
                        }
                        ```
                </script>
            </section>
            <section data-markdown>
                <script type="text/template">
                    ## jsx

                    3. 循环
                    <!-- .element: class="fragment" -->
                        ```js
                        var element = <ul>
                            {[1, 2, 3].map((item) => <li>{item}</li>)}
                        </ul>
                        ```
                </script>
            </section>
            <section data-markdown>
                <script type="text/template">
                    ## jsx
                    
                    {A}：A必须为合法的右值

                    所以并不能在`{}`中写if/for等语句
                </script>
            </section>
            <section data-markdown>
                <script type="text/template">
                    ## 组件

                    1. 组件需要继承Component，并且实现render方法 <!-- .element: class="fragment" -->
                        ```js
                        import React, {Component} from 'react';
                        
                        class Hello extends Component {
                            constructor(props) {
                                super(props);
                                this.state = {date: new Date()};
                                // 每隔1s设置一次date
                                setInterval(() => {this.setState({date: new Date()})}, 1000);
                            }

                            render() {
                                // 实现render方法，返回virtual-dom
                                return <div>
                                    Hello {this.props.name}
                                    <br />
                                    Now: {this.state.date.toLocaleTimeString()}
                                </div>
                            }
                        }
                        ```
                        <!-- .element: class="fragment" -->
                </script>
            </section>
            <section data-markdown>
                <script type="text/template">
                    ## 组件

                    2. 通过ReactDom.render渲染组件 <!-- .element: class="fragment" -->
                        ```js
                        import ReactDom from 'react-dom';
                        
                        ReactDom.render(<Hello name="React"/>, document.getElementById('root'));
                        ```
                        <!-- .element: class="fragment" -->

                    3. 组件可以通过props传递数据，该属性是只读的 <!-- .element: class="fragment" -->
                    4. 组件可以通过state维护自己的状态，该属性是可读写的 <!-- .element: class="fragment" -->
                </script>
            </section>
            <section data-markdown>
                <script type="text/template">
                    ## 组件的生命周期

                    生命周期是组件的灵魂 <!-- .element: class="fragment" -->

                    - 组件初始化，到插入dom <!-- .element: class="fragment" -->
                        1. constructor(props)
                        2. componentWillMount()
                        3. render()
                        4. componentDidMount()
                    - 组件更新，重新渲染 <!-- .element: class="fragment" -->
                        1. componentWillReceiveProps()
                        2. shouldComponentUpdate()
                        3. componentWillUpdate()
                        4. render()
                        5. componentDidUpdate()
                </script>
            </section>
            <section data-markdown>
                <script type="text/template">
                    ## 组件的生命周期

                    - 组件销毁 <!-- .element: class="fragment" -->
                        1. componentWillUnmount()
                    - 销毁Hello React中定时器 <!-- .element: class="fragment" -->
                        ```js
                        constructor(props) {
                            ...
                            this.timer = setInterval(() => {this.setState({date: new Date()})}, 1000);
                        }

                        componentWillUnmount() {
                            clearInterval(this.timer);
                        }
                        ```
                        <!-- .element: class="fragment" -->
                </script>
            </section>
            <section data-markdown>
                <script type="text/template">
                    ## 事件处理

                    - 通过onEvent形式的属性绑定事件 <!-- .element: class="fragment" -->
                        ```js
                        <div onClick={function() {alert(1)}}>click</div>
                        ```
                        <!-- .element: class="fragment" -->
                    - 严格模式下，事件函数的this为null，如果将组件方法当做事件回调，需要绑定this <!-- .element: class="fragment" -->
                        ```js
                        testEvent(e) {
                            // 如果未绑定this，则this === null，取不到组件的数据
                            alert(this.props.name);
                        }
                        render() {
                            return <div onClick={this.testEvent.bind(this)}>click</div>
                        }
                        ```
                        <!-- .element: class="fragment" -->
                </script>
            </section>
            <section data-markdown>
                <script type="text/template">
                    ## 从数组[1, 2, 3]变为[1, 3]有几种方式？
                </script>
            </section>
            <section data-markdown>
                <script type="text/template">
                    - 直接删除2 <!-- .element: class="fragment" -->
                    - 将2替换成3，然后删掉之前3 <!-- .element: class="fragment" -->

                    如果将[1, 2, 3]变为dom数组 <!-- .element: class="fragment" -->

                    ```js
                    [<li>1</li>, <li>2</li>, <li>3</li>]
                    ```
                    <!-- .element: class="fragment" -->

                    或者更复杂的dom结构，程序如何判断可以直接删除2呢？ <!-- .element: class="fragment" -->
                </script>
            </section>
            <section data-markdown>
                <script type="text/template">
                    ## 给每个元素一个唯一标识，key

                    ```js
                    <ul>{[1, 2, 3].map((item) => <li key={item}>{item}</li>)}</ul>
                    ```
                    <!-- .element: class="fragment" -->

                    - key必须唯一
                    <!-- .element: class="fragment" -->
                        - 对于[1, 2, 2, 3]这样的数组，就不能指定key，因为删除2时，不知道删除的是
                        哪一个2
                    <!-- .element: class="fragment" -->
                    - key必须能标识每个元素
                    <!-- .element: class="fragment" -->
                        - 对数组[1, 2, 3]如果用数组的索引作为key，显然没意义
                        ```js
                        <ul>{[1, 2, 3].map((item, index) => <li key={index}>{item}</li>)}</ul>
                        ```
                    <!-- .element: class="fragment" -->
                </script>
            </section>
            <section data-markdown>
                <script type="text/template">
                    ## ref

                    用于获取组件，该属性值是一个函数，分两种情况
                    <!-- .element: class="fragment" -->

                    - 作用于HTML元素时，用来获取dom节点
                    <!-- .element: class="fragment" -->
                        ```js
                        <input ref={(input) => this.input = input} />
                        // this.input为input dom
                        ```
                    - 作用于自定义组件时，用来获取组件的实例
                    <!-- .element: class="fragment" -->
                        ```js
                        <Component ref={(component) => this.component = component} />
                        // this.component为Component实例
                        ```

                    Don't Overuse Refs
                    <!-- .element: class="fragment" -->
                </script>
            </section>
        </section>
        <section class="stack">
            <section data-markdown>
                <script type="text/template">
                    - JSX语法
                    - 组件的编写
                    - 组件的生命周期
                    - 事件处理
                    - key属性
                    - ref属性
                </script>
            </section>
            <section data-markdown>
                <script type="text/template">
                    ## 简单的TodoList
                </script>
            </section>
            <section>
                <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="processonSvg1000" viewBox="219.0 26.0 537.0 461.0" width="537.0" height="461.0"><defs id="ProcessOnDefs1001"><radialGradient id="ProcessOnRadialGradient1007"><stop id="ProcessOnStop1008" stop-opacity="1.0" stop-color="#ffffff" offset="0.1"/><stop id="ProcessOnStop1009" stop-opacity="1.0" stop-color="#00ff00" offset="0.6"/></radialGradient><radialGradient id="ProcessOnRadialGradient1016"><stop id="ProcessOnStop1017" stop-opacity="1.0" stop-color="#ffffff" offset="0.1"/><stop id="ProcessOnStop1018" stop-opacity="1.0" stop-color="#ff0000" offset="0.6"/></radialGradient></defs><g id="ProcessOnG1002"><path id="ProcessOnPath1003" d="M219.0 26.0H756.0V487.0H219.0V26.0Z" fill="none"/><g id="ProcessOnG1004"><g id="ProcessOnG1005" transform="matrix(1.0,0.0,0.0,1.0,248.0,46.0)" opacity="1.0"><path id="ProcessOnPath1006" d="M0.0 210.5C0.0 -70.16666666666667 488.0 -70.16666666666667 488.0 210.5C488.0 491.1666666666667 0.0 491.1666666666667 0.0 210.5Z" stroke="#00ff00" stroke-width="0.0" stroke-dasharray="none" opacity="0.35" fill="url(#ProcessOnRadialGradient1007)"/></g><g id="ProcessOnG1010" transform="matrix(1.0,0.0,0.0,1.0,379.0,90.0)" opacity="1.0"><path id="ProcessOnPath1011" d="M0.0 4.0Q0.0 0.0 4.0 0.0L243.0 0.0Q247.0 0.0 247.0 4.0L247.0 38.0Q247.0 42.0 243.0 42.0L4.0 42.0Q0.0 42.0 0.0 38.0Z" stroke="#323232" stroke-width="2.0" stroke-dasharray="none" opacity="1.0" fill="#ffffff"/><g id="ProcessOnG1012" transform="matrix(1.0,0.0,0.0,1.0,10.0,9.75)"><text id="ProcessOnText1013" fill="#000000" font-weight="normal" font-style="normal" text-decoration="blink" font-family="微软雅黑" text-anchor="middle" font-size="18" x="113.5" y="18.45">input</text></g></g><g id="ProcessOnG1014" transform="matrix(1.0,0.0,0.0,1.0,318.0,141.5)" opacity="1.0"><path id="ProcessOnPath1015" d="M0.0 132.5C0.0 -44.166666666666664 355.0 -44.166666666666664 355.0 132.5C355.0 309.1666666666667 0.0 309.1666666666667 0.0 132.5Z" stroke="#ff0000" stroke-width="0.0" stroke-dasharray="none" opacity="0.35" fill="url(#ProcessOnRadialGradient1016)"/></g><g id="ProcessOnG1019" transform="matrix(1.0,0.0,0.0,1.0,433.0,176.0)" opacity="1.0"><path id="ProcessOnPath1020" d="M0.0 0.0L147.0 0.0L147.0 35.0L0.0 35.0Z" stroke="#323232" stroke-width="2.0" stroke-dasharray="none" opacity="1.0" fill="#ffffff"/><g id="ProcessOnG1021" transform="matrix(1.0,0.0,0.0,1.0,10.0,6.875)"><text id="ProcessOnText1022" fill="#000000" font-weight="normal" font-style="normal" text-decoration="blink" font-family="微软雅黑" text-anchor="middle" font-size="17" x="63.5" y="17.425">TodoItem</text></g></g><g id="ProcessOnG1023" transform="matrix(1.0,0.0,0.0,1.0,433.0,216.0)" opacity="1.0"><path id="ProcessOnPath1024" d="M0.0 0.0L147.0 0.0L147.0 35.0L0.0 35.0Z" stroke="#323232" stroke-width="2.0" stroke-dasharray="none" opacity="1.0" fill="#ffffff"/><g id="ProcessOnG1025" transform="matrix(1.0,0.0,0.0,1.0,10.0,6.25)"><text id="ProcessOnText1026" fill="#000000" font-weight="normal" font-style="normal" text-decoration="blink" font-family="微软雅黑" text-anchor="middle" font-size="18" x="63.5" y="18.45">TodoItem</text></g></g><g id="ProcessOnG1027" transform="matrix(1.0,0.0,0.0,1.0,433.0,254.0)" opacity="1.0"><path id="ProcessOnPath1028" d="M0.0 0.0L147.0 0.0L147.0 35.0L0.0 35.0Z" stroke="#323232" stroke-width="2.0" stroke-dasharray="none" opacity="1.0" fill="#ffffff"/><g id="ProcessOnG1029" transform="matrix(1.0,0.0,0.0,1.0,10.0,6.25)"><text id="ProcessOnText1030" fill="#000000" font-weight="normal" font-style="normal" text-decoration="blink" font-family="微软雅黑" text-anchor="middle" font-size="18" x="63.5" y="18.45">TodoItem</text></g></g><g id="ProcessOnG1031" transform="matrix(1.0,0.0,0.0,1.0,433.0,294.0)" opacity="1.0"><path id="ProcessOnPath1032" d="M0.0 0.0L147.0 0.0L147.0 35.0L0.0 35.0Z" stroke="#323232" stroke-width="2.0" stroke-dasharray="none" opacity="1.0" fill="#ffffff"/><g id="ProcessOnG1033" transform="matrix(1.0,0.0,0.0,1.0,10.0,6.25)"><text id="ProcessOnText1034" fill="#000000" font-weight="normal" font-style="normal" text-decoration="blink" font-family="微软雅黑" text-anchor="middle" font-size="18" x="63.5" y="18.45">TodoItem</text></g></g><g id="ProcessOnG1035" transform="matrix(1.0,0.0,0.0,1.0,433.0,335.0)" opacity="1.0"><path id="ProcessOnPath1036" d="M0.0 0.0L147.0 0.0L147.0 35.0L0.0 35.0Z" stroke="#323232" stroke-width="2.0" stroke-dasharray="none" opacity="1.0" fill="#ffffff"/><g id="ProcessOnG1037" transform="matrix(1.0,0.0,0.0,1.0,10.0,6.25)"><text id="ProcessOnText1038" fill="#000000" font-weight="normal" font-style="normal" text-decoration="blink" font-family="微软雅黑" text-anchor="middle" font-size="18" x="63.5" y="18.45">TodoItem</text></g></g><g id="ProcessOnG1039" transform="matrix(1.0,0.0,0.0,1.0,239.0,142.0)" opacity="1.0"><path id="ProcessOnPath1040" d="M0.0 0.0L160.0 0.0L160.0 40.0L0.0 40.0Z" stroke="#323232" stroke-width="0.0" stroke-dasharray="none" opacity="1.0" fill="none"/><g id="ProcessOnG1041" transform="matrix(1.0,0.0,0.0,1.0,0.0,6.875)"><text id="ProcessOnText1042" fill="#000000" font-weight="normal" font-style="normal" text-decoration="blink" font-family="微软雅黑" text-anchor="middle" font-size="21" x="80.0" y="21.525">App</text></g></g><g id="ProcessOnG1043" transform="matrix(1.0,0.0,0.0,1.0,290.0,224.0)" opacity="1.0"><path id="ProcessOnPath1044" d="M0.0 0.0L160.0 0.0L160.0 40.0L0.0 40.0Z" stroke="#323232" stroke-width="0.0" stroke-dasharray="none" opacity="1.0" fill="none"/><g id="ProcessOnG1045" transform="matrix(1.0,0.0,0.0,1.0,0.0,9.375)"><text id="ProcessOnText1046" fill="#000000" font-weight="normal" font-style="normal" text-decoration="blink" font-family="微软雅黑" text-anchor="middle" font-size="17" x="80.0" y="17.425">TodoList</text></g></g></g></g></svg>
            </section>
            <section data-markdown>
                <script type="text/template">
                    ## TodoItem组件  
                    
                    ```js
                    import React, {Component} from 'react';
                    import ReactDom from 'react-dom';

                    class TodoItem extends Component {
                        render() {
                            return <li>
                                <span>{this.props.name}</span>
                                <span onClick={this.props.onDelete}>删除</span>
                            </li>
                        }
                    }
                    ```
                </script>
            </section>
            <section data-markdown>
                <script type="text/template">
                    ## TodoList组件  
                    
                    ```js
                    class TodoList extends Component {
                        render() {
                            return <ul>
                                {this.props.list.map((item, index) => {
                                    return <TodoItem name={item.name} 
                                    onDelete={this.props.onDelete.bind(this, index)} 
                                    key={item.id}
                                    />
                                })}
                            </ul>
                        }
                    }
                    ```
                </script>
            </section>
            <section data-markdown>
                <script type="text/template">
                    ## App组件  
                    
                    ```js
                    class App extends Component {
                        constructor(props) {
                            super(props);
                            this.state = {
                                list: []
                            };
                        }

                        add(e) {
                            e.preventDefault();
                            this.setState({
                                list: this.state.list.concat([{
                                    // 用时间戳作为每条数据的唯一key
                                    id: new Date().getTime(),
                                    name: this.input.value
                                }])
                            });
                        }

                        delete(index) {
                            this.state.list.splice(index, 1)
                            this.forceUpdate();
                        }

                        render() {
                            return <div>
                                <form onSubmit={this.add.bind(this)}>
                                    <input type="text" ref={(input) => this.input = input}/>
                                </form>
                                <TodoList list={this.state.list} 
                                    onDelete={this.delete.bind(this)}
                                />
                            </div>
                        }
                    }
                    ```
                </script>
            </section>
        </section>

        <section>
            <h2>谢谢</h2>
            <h2>Q&A</h2>
        </section>
    </div>
</div>

<script type="text/javascript" src="bower_components/reveal.js/lib/js/head.min.js"></script>
<script type="text/javascript" src="bower_components/reveal.js/js/reveal.js"></script>
<script type="text/javascript">
    Reveal.initialize({
        controls: true,
        progress: true,
        history: true,
        center: true,
        transition: 'slide',
        dependencies: [
            { src: 'bower_components/reveal.js/lib/js/classList.js', condition: function() { return !document.body.classList; } },
            { src: 'bower_components/reveal.js/plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
            { src: 'bower_components/reveal.js/plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
            { src: 'bower_components/reveal.js/plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
            { src: 'bower_components/reveal.js/plugin/notes/notes.js' }
        ]
    });
</script>
</body>
</html>
